
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A simple async ORM with fastapi in mind and pydantic validation.">
      
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>prefetch_mixin - ormar</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-72514911-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");ga("send","event","feedback","click",t,e),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){ga("send","pageview",e.pathname)})});var e=document.createElement("script");e.async=!0,e.src="https://www.google-analytics.com/analytics.js",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ormar.models.mixins.prefetch_mixin" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="ormar" class="md-header__button md-logo" aria-label="ormar" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ormar
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              prefetch_mixin
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/collerek/ormar" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    collerek/ormar
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="ormar" class="md-nav__button md-logo" aria-label="ormar" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ormar
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/collerek/ormar" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    collerek/ormar
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../install/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Models
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Models" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Models
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../models/" class="md-nav__link">
        Definition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../models/inheritance/" class="md-nav__link">
        Inheritance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../models/methods/" class="md-nav__link">
        Methods
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../models/migrations/" class="md-nav__link">
        Migrations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../models/internals/" class="md-nav__link">
        Internals
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Fields
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Fields" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Fields
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../fields/common-parameters/" class="md-nav__link">
        Common parameters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../fields/field-types/" class="md-nav__link">
        Fields types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../fields/pydantic-fields/" class="md-nav__link">
        Pydantic only fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../fields/encryption/" class="md-nav__link">
        Fields encryption
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../relations/">Relations</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Relations" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Relations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../relations/postponed-annotations/" class="md-nav__link">
        Postponed annotations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../relations/foreign-key/" class="md-nav__link">
        ForeignKey
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../relations/many-to-many/" class="md-nav__link">
        ManyToMany
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../relations/queryset-proxy/" class="md-nav__link">
        QuerySetProxy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../queries/">Queries</a>
          
            <label for="__nav_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Queries" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Queries
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../queries/create/" class="md-nav__link">
        Insert data into database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../queries/read/" class="md-nav__link">
        Read data from database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../queries/update/" class="md-nav__link">
        Update data in database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../queries/delete/" class="md-nav__link">
        Delete data from database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../queries/joins-and-subqueries/" class="md-nav__link">
        Joins and subqueries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../queries/filter-and-sort/" class="md-nav__link">
        Filtering and sorting data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../queries/select-columns/" class="md-nav__link">
        Selecting subset of columns
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../queries/pagination-and-rows-number/" class="md-nav__link">
        Pagination and rows number
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../queries/aggregations/" class="md-nav__link">
        Aggregation functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../queries/raw-data/" class="md-nav__link">
        Return raw data
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../signals/" class="md-nav__link">
        Signals
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../transactions/" class="md-nav__link">
        Transactions
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Use with Fastapi
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Use with Fastapi" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Use with Fastapi
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../fastapi/" class="md-nav__link">
        Quick Start
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../fastapi/response/" class="md-nav__link">
        Using ormar in responses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../fastapi/requests/" class="md-nav__link">
        Using ormar in requests
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../mypy/" class="md-nav__link">
        Use with mypy
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../plugin/" class="md-nav__link">
        PyCharm plugin
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../releases/" class="md-nav__link">
        Release Notes
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14" type="checkbox" id="__nav_14" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_14">
          Api (BETA)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Api (BETA)" data-md-level="1">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          Api (BETA)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1" type="checkbox" id="__nav_14_1" checked>
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../">ormar</a>
          
            <label for="__nav_14_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="ormar" data-md-level="2">
        <label class="md-nav__title" for="__nav_14_1">
          <span class="md-nav__icon md-icon"></span>
          ormar
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_1" type="checkbox" id="__nav_14_1_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../decorators/">decorators</a>
          
            <label for="__nav_14_1_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="decorators" data-md-level="3">
        <label class="md-nav__title" for="__nav_14_1_1">
          <span class="md-nav__icon md-icon"></span>
          decorators
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../decorators/property_field/" class="md-nav__link">
        property_field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../decorators/signals/" class="md-nav__link">
        signals
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../exceptions/" class="md-nav__link">
        exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_3" type="checkbox" id="__nav_14_1_3" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../fields/">fields</a>
          
            <label for="__nav_14_1_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="fields" data-md-level="3">
        <label class="md-nav__title" for="__nav_14_1_3">
          <span class="md-nav__icon md-icon"></span>
          fields
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fields/base/" class="md-nav__link">
        base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fields/constraints/" class="md-nav__link">
        constraints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fields/foreign_key/" class="md-nav__link">
        foreign_key
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fields/many_to_many/" class="md-nav__link">
        many_to_many
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fields/model_fields/" class="md-nav__link">
        model_fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fields/parsers/" class="md-nav__link">
        parsers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fields/referential_actions/" class="md-nav__link">
        referential_actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fields/sqlalchemy_encrypted/" class="md-nav__link">
        sqlalchemy_encrypted
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fields/sqlalchemy_uuid/" class="md-nav__link">
        sqlalchemy_uuid
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fields/through_field/" class="md-nav__link">
        through_field
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_4" type="checkbox" id="__nav_14_1_4" checked>
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">models</a>
          
            <label for="__nav_14_1_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="models" data-md-level="3">
        <label class="md-nav__title" for="__nav_14_1_4">
          <span class="md-nav__icon md-icon"></span>
          models
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_4_1" type="checkbox" id="__nav_14_1_4_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../descriptors/">descriptors</a>
          
            <label for="__nav_14_1_4_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="descriptors" data-md-level="4">
        <label class="md-nav__title" for="__nav_14_1_4_1">
          <span class="md-nav__icon md-icon"></span>
          descriptors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../descriptors/descriptors/" class="md-nav__link">
        descriptors
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../excludable/" class="md-nav__link">
        excludable
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_4_3" type="checkbox" id="__nav_14_1_4_3" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../helpers/">helpers</a>
          
            <label for="__nav_14_1_4_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="helpers" data-md-level="4">
        <label class="md-nav__title" for="__nav_14_1_4_3">
          <span class="md-nav__icon md-icon"></span>
          helpers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../helpers/models/" class="md-nav__link">
        models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../helpers/pydantic/" class="md-nav__link">
        pydantic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../helpers/related_names_validation/" class="md-nav__link">
        related_names_validation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../helpers/relations/" class="md-nav__link">
        relations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../helpers/sqlalchemy/" class="md-nav__link">
        sqlalchemy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../helpers/validation/" class="md-nav__link">
        validation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../metaclass/" class="md-nav__link">
        metaclass
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_4_5" type="checkbox" id="__nav_14_1_4_5" checked>
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">mixins</a>
          
            <label for="__nav_14_1_4_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="mixins" data-md-level="4">
        <label class="md-nav__title" for="__nav_14_1_4_5">
          <span class="md-nav__icon md-icon"></span>
          mixins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../alias_mixin/" class="md-nav__link">
        alias_mixin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../excludable_mixin/" class="md-nav__link">
        excludable_mixin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../merge_mixin/" class="md-nav__link">
        merge_mixin
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          prefetch_mixin
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        prefetch_mixin
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ormar.models.mixins.prefetch_mixin" class="md-nav__link">
    ormar.models.mixins.prefetch_mixin
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.models.mixins.prefetch_mixin.PrefetchQueryMixin" class="md-nav__link">
    PrefetchQueryMixin
  </a>
  
    <nav class="md-nav" aria-label="PrefetchQueryMixin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ormar.models.mixins.prefetch_mixin.PrefetchQueryMixin.get_clause_target_and_filter_column_name" class="md-nav__link">
    get_clause_target_and_filter_column_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.models.mixins.prefetch_mixin.PrefetchQueryMixin.get_column_name_for_id_extraction" class="md-nav__link">
    get_column_name_for_id_extraction()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.models.mixins.prefetch_mixin.PrefetchQueryMixin.get_filtered_names_to_extract" class="md-nav__link">
    get_filtered_names_to_extract()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.models.mixins.prefetch_mixin.PrefetchQueryMixin.get_related_field_name" class="md-nav__link">
    get_related_field_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_mixin/" class="md-nav__link">
        pydantic_mixin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../relation_mixin/" class="md-nav__link">
        relation_mixin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../save_mixin/" class="md-nav__link">
        save_mixin
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../model/" class="md-nav__link">
        model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../model_row/" class="md-nav__link">
        model_row
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modelproxy/" class="md-nav__link">
        modelproxy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../newbasemodel/" class="md-nav__link">
        newbasemodel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quick_access_views/" class="md-nav__link">
        quick_access_views
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../traversible/" class="md-nav__link">
        traversible
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_5" type="checkbox" id="__nav_14_1_5" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../protocols/">protocols</a>
          
            <label for="__nav_14_1_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="protocols" data-md-level="3">
        <label class="md-nav__title" for="__nav_14_1_5">
          <span class="md-nav__icon md-icon"></span>
          protocols
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../protocols/queryset_protocol/" class="md-nav__link">
        queryset_protocol
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../protocols/relation_protocol/" class="md-nav__link">
        relation_protocol
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_6" type="checkbox" id="__nav_14_1_6" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../queryset/">queryset</a>
          
            <label for="__nav_14_1_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="queryset" data-md-level="3">
        <label class="md-nav__title" for="__nav_14_1_6">
          <span class="md-nav__icon md-icon"></span>
          queryset
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_6_1" type="checkbox" id="__nav_14_1_6_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../queryset/actions/">actions</a>
          
            <label for="__nav_14_1_6_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="actions" data-md-level="4">
        <label class="md-nav__title" for="__nav_14_1_6_1">
          <span class="md-nav__icon md-icon"></span>
          actions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../queryset/actions/filter_action/" class="md-nav__link">
        filter_action
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../queryset/actions/order_action/" class="md-nav__link">
        order_action
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../queryset/actions/query_action/" class="md-nav__link">
        query_action
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../queryset/actions/select_action/" class="md-nav__link">
        select_action
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../queryset/clause/" class="md-nav__link">
        clause
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../queryset/field_accessor/" class="md-nav__link">
        field_accessor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../queryset/join/" class="md-nav__link">
        join
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_6_5" type="checkbox" id="__nav_14_1_6_5" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../queryset/queries/">queries</a>
          
            <label for="__nav_14_1_6_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="queries" data-md-level="4">
        <label class="md-nav__title" for="__nav_14_1_6_5">
          <span class="md-nav__icon md-icon"></span>
          queries
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../queryset/queries/filter_query/" class="md-nav__link">
        filter_query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../queryset/queries/limit_query/" class="md-nav__link">
        limit_query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../queryset/queries/offset_query/" class="md-nav__link">
        offset_query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../queryset/queries/order_query/" class="md-nav__link">
        order_query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../queryset/queries/prefetch_query/" class="md-nav__link">
        prefetch_query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../queryset/queries/query/" class="md-nav__link">
        query
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../queryset/queryset/" class="md-nav__link">
        queryset
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../queryset/reverse_alias_resolver/" class="md-nav__link">
        reverse_alias_resolver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../queryset/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_7" type="checkbox" id="__nav_14_1_7" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../relations/">relations</a>
          
            <label for="__nav_14_1_7">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="relations" data-md-level="3">
        <label class="md-nav__title" for="__nav_14_1_7">
          <span class="md-nav__icon md-icon"></span>
          relations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../relations/alias_manager/" class="md-nav__link">
        alias_manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../relations/querysetproxy/" class="md-nav__link">
        querysetproxy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../relations/relation/" class="md-nav__link">
        relation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../relations/relation_manager/" class="md-nav__link">
        relation_manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../relations/relation_proxy/" class="md-nav__link">
        relation_proxy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../relations/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_8" type="checkbox" id="__nav_14_1_8" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../signals/">signals</a>
          
            <label for="__nav_14_1_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="signals" data-md-level="3">
        <label class="md-nav__title" for="__nav_14_1_8">
          <span class="md-nav__icon md-icon"></span>
          signals
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../signals/signal/" class="md-nav__link">
        signal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ormar.models.mixins.prefetch_mixin" class="md-nav__link">
    ormar.models.mixins.prefetch_mixin
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.models.mixins.prefetch_mixin.PrefetchQueryMixin" class="md-nav__link">
    PrefetchQueryMixin
  </a>
  
    <nav class="md-nav" aria-label="PrefetchQueryMixin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ormar.models.mixins.prefetch_mixin.PrefetchQueryMixin.get_clause_target_and_filter_column_name" class="md-nav__link">
    get_clause_target_and_filter_column_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.models.mixins.prefetch_mixin.PrefetchQueryMixin.get_column_name_for_id_extraction" class="md-nav__link">
    get_column_name_for_id_extraction()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.models.mixins.prefetch_mixin.PrefetchQueryMixin.get_filtered_names_to_extract" class="md-nav__link">
    get_filtered_names_to_extract()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.models.mixins.prefetch_mixin.PrefetchQueryMixin.get_related_field_name" class="md-nav__link">
    get_related_field_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/collerek/ormar/edit/master/docs/ormar/models/mixins/prefetch_mixin.py" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


  <h1>prefetch_mixin</h1>

<div class="doc doc-object doc-module">


<a id="ormar.models.mixins.prefetch_mixin"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="ormar.models.mixins.prefetch_mixin.PrefetchQueryMixin" class="doc doc-heading">
        <code>PrefetchQueryMixin</code>


</h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="ormar.models.mixins.relation_mixin.RelationMixin" href="../relation_mixin/#ormar.models.mixins.relation_mixin.RelationMixin">RelationMixin</a></code></p>

  
      <p>Used in PrefetchQuery to extract ids and names of models to prefetch.</p>


        <details class="quote">
          <summary>Source code in <code>ormar/models/mixins/prefetch_mixin.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PrefetchQueryMixin</span><span class="p">(</span><span class="n">RelationMixin</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Used in PrefetchQuery to extract ids and names of models to prefetch.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>  <span class="c1"># pragma no cover</span>
        <span class="kn">from</span> <span class="nn">ormar</span> <span class="kn">import</span> <span class="n">Model</span>

        <span class="n">get_name</span><span class="p">:</span> <span class="n">Callable</span>  <span class="c1"># defined in NewBaseModel</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_clause_target_and_filter_column_name</span><span class="p">(</span>
        <span class="n">parent_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">],</span>
        <span class="n">target_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">],</span>
        <span class="n">reverse</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">related</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns Model on which query clause should be performed and name of the column.</span>

<span class="sd">        :param parent_model: related model that the relation lead to</span>
<span class="sd">        :type parent_model: Type[Model]</span>
<span class="sd">        :param target_model: model on which query should be perfomed</span>
<span class="sd">        :type target_model: Type[Model]</span>
<span class="sd">        :param reverse: flag if the relation is reverse</span>
<span class="sd">        :type reverse: bool</span>
<span class="sd">        :param related: name of the relation field</span>
<span class="sd">        :type related: str</span>
<span class="sd">        :return: Model on which query clause should be performed and name of the column</span>
<span class="sd">        :rtype: Tuple[Type[Model], str]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">reverse</span><span class="p">:</span>
            <span class="n">field_name</span> <span class="o">=</span> <span class="n">parent_model</span><span class="o">.</span><span class="n">Meta</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">related</span><span class="p">]</span><span class="o">.</span><span class="n">get_related_name</span><span class="p">()</span>
            <span class="n">field</span> <span class="o">=</span> <span class="n">target_model</span><span class="o">.</span><span class="n">Meta</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">is_multi</span><span class="p">:</span>
                <span class="n">field</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;ManyToManyField&quot;</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
                <span class="n">field_name</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">default_target_field_name</span><span class="p">()</span>
                <span class="n">sub_field</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">through</span><span class="o">.</span><span class="n">Meta</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
                <span class="k">return</span> <span class="n">field</span><span class="o">.</span><span class="n">through</span><span class="p">,</span> <span class="n">sub_field</span><span class="o">.</span><span class="n">get_alias</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">target_model</span><span class="p">,</span> <span class="n">field</span><span class="o">.</span><span class="n">get_alias</span><span class="p">()</span>
        <span class="n">target_field</span> <span class="o">=</span> <span class="n">target_model</span><span class="o">.</span><span class="n">get_column_alias</span><span class="p">(</span><span class="n">target_model</span><span class="o">.</span><span class="n">Meta</span><span class="o">.</span><span class="n">pkname</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">target_model</span><span class="p">,</span> <span class="n">target_field</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_column_name_for_id_extraction</span><span class="p">(</span>
        <span class="n">parent_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">],</span> <span class="n">reverse</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">related</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">use_raw</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns name of the column that should be used to extract ids from model.</span>
<span class="sd">        Depending on the relation side it&#39;s either primary key column of parent model</span>
<span class="sd">        or field name specified by related parameter.</span>

<span class="sd">        :param parent_model: model from which id column should be extracted</span>
<span class="sd">        :type parent_model: Type[Model]</span>
<span class="sd">        :param reverse: flag if the relation is reverse</span>
<span class="sd">        :type reverse: bool</span>
<span class="sd">        :param related: name of the relation field</span>
<span class="sd">        :type related: str</span>
<span class="sd">        :param use_raw: flag if aliases or field names should be used</span>
<span class="sd">        :type use_raw: bool</span>
<span class="sd">        :return:</span>
<span class="sd">        :rtype:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">reverse</span><span class="p">:</span>
            <span class="n">column_name</span> <span class="o">=</span> <span class="n">parent_model</span><span class="o">.</span><span class="n">Meta</span><span class="o">.</span><span class="n">pkname</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">parent_model</span><span class="o">.</span><span class="n">get_column_alias</span><span class="p">(</span><span class="n">column_name</span><span class="p">)</span> <span class="k">if</span> <span class="n">use_raw</span> <span class="k">else</span> <span class="n">column_name</span>
            <span class="p">)</span>
        <span class="n">column</span> <span class="o">=</span> <span class="n">parent_model</span><span class="o">.</span><span class="n">Meta</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">related</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">column</span><span class="o">.</span><span class="n">get_alias</span><span class="p">()</span> <span class="k">if</span> <span class="n">use_raw</span> <span class="k">else</span> <span class="n">column</span><span class="o">.</span><span class="n">name</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_related_field_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target_field</span><span class="p">:</span> <span class="s2">&quot;ForeignKeyField&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns name of the relation field that should be used in prefetch query.</span>
<span class="sd">        This field is later used to register relation in prefetch query,</span>
<span class="sd">        populate relations dict, and populate nested model in prefetch query.</span>

<span class="sd">        :param target_field: relation field that should be used in prefetch</span>
<span class="sd">        :type target_field: Type[BaseField]</span>
<span class="sd">        :return: name of the field</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">target_field</span><span class="o">.</span><span class="n">is_multi</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">target_field</span><span class="o">.</span><span class="n">virtual</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">target_field</span><span class="o">.</span><span class="n">get_related_name</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">target_field</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">Meta</span><span class="o">.</span><span class="n">pkname</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_filtered_names_to_extract</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">prefetch_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns list of related fields names that should be followed to prefetch related</span>
<span class="sd">        models from.</span>

<span class="sd">        List of models is translated into dict to assure each model is extracted only</span>
<span class="sd">        once in one query, that&#39;s why this function accepts prefetch_dict not list.</span>

<span class="sd">        Only relations from current model are returned.</span>

<span class="sd">        :param prefetch_dict: dictionary of fields to extract</span>
<span class="sd">        :type prefetch_dict: Dict</span>
<span class="sd">        :return: list of fields names to extract</span>
<span class="sd">        :rtype: List</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">related_to_extract</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">prefetch_dict</span> <span class="ow">and</span> <span class="n">prefetch_dict</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">Ellipsis</span><span class="p">:</span>
            <span class="n">related_to_extract</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">related</span>
                <span class="k">for</span> <span class="n">related</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">extract_related_names</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">related</span> <span class="ow">in</span> <span class="n">prefetch_dict</span>
            <span class="p">]</span>
        <span class="k">return</span> <span class="n">related_to_extract</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 id="ormar.models.mixins.prefetch_mixin.PrefetchQueryMixin.get_clause_target_and_filter_column_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_clause_target_and_filter_column_name</span><span class="p">(</span><span class="n">parent_model</span><span class="p">,</span> <span class="n">target_model</span><span class="p">,</span> <span class="n">reverse</span><span class="p">,</span> <span class="n">related</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Returns Model on which query clause should be performed and name of the column.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>parent_model</code></td>
          <td>
                <code><span title="typing.Type">Type</span>[<a class="autorefs autorefs-internal" title="ormar.Model" href="../../../#ormar.Model">Model</a>]</code>
          </td>
          <td><p>related model that the relation lead to</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>target_model</code></td>
          <td>
                <code><span title="typing.Type">Type</span>[<a class="autorefs autorefs-internal" title="ormar.Model" href="../../../#ormar.Model">Model</a>]</code>
          </td>
          <td><p>model on which query should be perfomed</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>reverse</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>flag if the relation is reverse</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>related</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>name of the relation field</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>Tuple[Type[Model], str]</code>
          </td>
          <td><p>Model on which query clause should be performed and name of the column</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>ormar/models/mixins/prefetch_mixin.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_clause_target_and_filter_column_name</span><span class="p">(</span>
    <span class="n">parent_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">],</span>
    <span class="n">target_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">],</span>
    <span class="n">reverse</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">related</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns Model on which query clause should be performed and name of the column.</span>

<span class="sd">    :param parent_model: related model that the relation lead to</span>
<span class="sd">    :type parent_model: Type[Model]</span>
<span class="sd">    :param target_model: model on which query should be perfomed</span>
<span class="sd">    :type target_model: Type[Model]</span>
<span class="sd">    :param reverse: flag if the relation is reverse</span>
<span class="sd">    :type reverse: bool</span>
<span class="sd">    :param related: name of the relation field</span>
<span class="sd">    :type related: str</span>
<span class="sd">    :return: Model on which query clause should be performed and name of the column</span>
<span class="sd">    :rtype: Tuple[Type[Model], str]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">reverse</span><span class="p">:</span>
        <span class="n">field_name</span> <span class="o">=</span> <span class="n">parent_model</span><span class="o">.</span><span class="n">Meta</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">related</span><span class="p">]</span><span class="o">.</span><span class="n">get_related_name</span><span class="p">()</span>
        <span class="n">field</span> <span class="o">=</span> <span class="n">target_model</span><span class="o">.</span><span class="n">Meta</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">is_multi</span><span class="p">:</span>
            <span class="n">field</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;ManyToManyField&quot;</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
            <span class="n">field_name</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">default_target_field_name</span><span class="p">()</span>
            <span class="n">sub_field</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">through</span><span class="o">.</span><span class="n">Meta</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">field</span><span class="o">.</span><span class="n">through</span><span class="p">,</span> <span class="n">sub_field</span><span class="o">.</span><span class="n">get_alias</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">target_model</span><span class="p">,</span> <span class="n">field</span><span class="o">.</span><span class="n">get_alias</span><span class="p">()</span>
    <span class="n">target_field</span> <span class="o">=</span> <span class="n">target_model</span><span class="o">.</span><span class="n">get_column_alias</span><span class="p">(</span><span class="n">target_model</span><span class="o">.</span><span class="n">Meta</span><span class="o">.</span><span class="n">pkname</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">target_model</span><span class="p">,</span> <span class="n">target_field</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="ormar.models.mixins.prefetch_mixin.PrefetchQueryMixin.get_column_name_for_id_extraction" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_column_name_for_id_extraction</span><span class="p">(</span><span class="n">parent_model</span><span class="p">,</span> <span class="n">reverse</span><span class="p">,</span> <span class="n">related</span><span class="p">,</span> <span class="n">use_raw</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Returns name of the column that should be used to extract ids from model.
Depending on the relation side it's either primary key column of parent model
or field name specified by related parameter.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>parent_model</code></td>
          <td>
                <code><span title="typing.Type">Type</span>[<a class="autorefs autorefs-internal" title="ormar.Model" href="../../../#ormar.Model">Model</a>]</code>
          </td>
          <td><p>model from which id column should be extracted</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>reverse</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>flag if the relation is reverse</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>related</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>name of the relation field</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>use_raw</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>flag if aliases or field names should be used</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>ormar/models/mixins/prefetch_mixin.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_column_name_for_id_extraction</span><span class="p">(</span>
    <span class="n">parent_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">],</span> <span class="n">reverse</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">related</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">use_raw</span><span class="p">:</span> <span class="nb">bool</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns name of the column that should be used to extract ids from model.</span>
<span class="sd">    Depending on the relation side it&#39;s either primary key column of parent model</span>
<span class="sd">    or field name specified by related parameter.</span>

<span class="sd">    :param parent_model: model from which id column should be extracted</span>
<span class="sd">    :type parent_model: Type[Model]</span>
<span class="sd">    :param reverse: flag if the relation is reverse</span>
<span class="sd">    :type reverse: bool</span>
<span class="sd">    :param related: name of the relation field</span>
<span class="sd">    :type related: str</span>
<span class="sd">    :param use_raw: flag if aliases or field names should be used</span>
<span class="sd">    :type use_raw: bool</span>
<span class="sd">    :return:</span>
<span class="sd">    :rtype:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">reverse</span><span class="p">:</span>
        <span class="n">column_name</span> <span class="o">=</span> <span class="n">parent_model</span><span class="o">.</span><span class="n">Meta</span><span class="o">.</span><span class="n">pkname</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">parent_model</span><span class="o">.</span><span class="n">get_column_alias</span><span class="p">(</span><span class="n">column_name</span><span class="p">)</span> <span class="k">if</span> <span class="n">use_raw</span> <span class="k">else</span> <span class="n">column_name</span>
        <span class="p">)</span>
    <span class="n">column</span> <span class="o">=</span> <span class="n">parent_model</span><span class="o">.</span><span class="n">Meta</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">related</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">column</span><span class="o">.</span><span class="n">get_alias</span><span class="p">()</span> <span class="k">if</span> <span class="n">use_raw</span> <span class="k">else</span> <span class="n">column</span><span class="o">.</span><span class="n">name</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="ormar.models.mixins.prefetch_mixin.PrefetchQueryMixin.get_filtered_names_to_extract" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_filtered_names_to_extract</span><span class="p">(</span><span class="n">prefetch_dict</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Returns list of related fields names that should be followed to prefetch related
models from.</p>
<p>List of models is translated into dict to assure each model is extracted only
once in one query, that's why this function accepts prefetch_dict not list.</p>
<p>Only relations from current model are returned.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>prefetch_dict</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span></code>
          </td>
          <td><p>dictionary of fields to extract</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>List</code>
          </td>
          <td><p>list of fields names to extract</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>ormar/models/mixins/prefetch_mixin.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_filtered_names_to_extract</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">prefetch_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns list of related fields names that should be followed to prefetch related</span>
<span class="sd">    models from.</span>

<span class="sd">    List of models is translated into dict to assure each model is extracted only</span>
<span class="sd">    once in one query, that&#39;s why this function accepts prefetch_dict not list.</span>

<span class="sd">    Only relations from current model are returned.</span>

<span class="sd">    :param prefetch_dict: dictionary of fields to extract</span>
<span class="sd">    :type prefetch_dict: Dict</span>
<span class="sd">    :return: list of fields names to extract</span>
<span class="sd">    :rtype: List</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">related_to_extract</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">prefetch_dict</span> <span class="ow">and</span> <span class="n">prefetch_dict</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">Ellipsis</span><span class="p">:</span>
        <span class="n">related_to_extract</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">related</span>
            <span class="k">for</span> <span class="n">related</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">extract_related_names</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">related</span> <span class="ow">in</span> <span class="n">prefetch_dict</span>
        <span class="p">]</span>
    <span class="k">return</span> <span class="n">related_to_extract</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="ormar.models.mixins.prefetch_mixin.PrefetchQueryMixin.get_related_field_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_related_field_name</span><span class="p">(</span><span class="n">target_field</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Returns name of the relation field that should be used in prefetch query.
This field is later used to register relation in prefetch query,
populate relations dict, and populate nested model in prefetch query.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>target_field</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="ormar.fields.ForeignKeyField" href="../../../fields/#ormar.fields.ForeignKeyField">ForeignKeyField</a></code>
          </td>
          <td><p>relation field that should be used in prefetch</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td><p>name of the field</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>ormar/models/mixins/prefetch_mixin.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_related_field_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target_field</span><span class="p">:</span> <span class="s2">&quot;ForeignKeyField&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns name of the relation field that should be used in prefetch query.</span>
<span class="sd">    This field is later used to register relation in prefetch query,</span>
<span class="sd">    populate relations dict, and populate nested model in prefetch query.</span>

<span class="sd">    :param target_field: relation field that should be used in prefetch</span>
<span class="sd">    :type target_field: Type[BaseField]</span>
<span class="sd">    :return: name of the field</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">target_field</span><span class="o">.</span><span class="n">is_multi</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">target_field</span><span class="o">.</span><span class="n">virtual</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">target_field</span><span class="o">.</span><span class="n">get_related_name</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">target_field</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">Meta</span><span class="o">.</span><span class="n">pkname</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>


  




                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../merge_mixin/" class="md-footer__link md-footer__link--prev" aria-label="Previous: merge_mixin" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              merge_mixin
            </div>
          </div>
        </a>
      
      
        
        <a href="../pydantic_mixin/" class="md-footer__link md-footer__link--next" aria-label="Next: pydantic_mixin" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              pydantic_mixin
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": [], "search": "../../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
      
        <script src="../../../../javascripts/config.js"></script>
      
    
    
  </body>
</html>